<section ng-controller="EditLessonController">
	<div class="jumbotron">
		<div class="container">
			<div ng-show="error" class="text-center text-danger">
				<strong ng-bind="error"></strong>
			</div>
			<div class="row text-center">
				<div class="col-sm-12">
					<h1 class="">Edit Lesson Form</h1>
				</div>
			</div>

			<br>
			<br>
			<div class="row new-form">
				<div class="col-sm-12">
					<h2>
						<div class="form-group">
							<label for=" ">Lesson Name</label>
							<input type="text" class="form-control" placeholder=" " ng-model = "lesson.name">
						</div>
					</h2>
					<h2>
						<div class="form-group">
							<label for=" ">Lesson Description</label>
							<textarea class="form-control" id="exampleTextarea" rows="2" ng-model = "lesson.description"></textarea>
						</div>
					</h2>
				</div>
			</div>

			<hr>

			<div class="row text-center">
				<div class="col-sm-12">
					<h2>Videos</h2>
				</div>
			</div>

			<div class="row new-form" ng-repeat = "video in videos" repeat-finished="showQuestions()">
				<div class="col-md-5">
					<div class="form-group">
						<label for=" ">Video Name</label>
						<input type="text" class="form-control" placeholder="Lesson Name" ng-model = "video.videoname">
					</div>
				</div>
				<div class="col-md-5">
					<div class="form-group">
						<label for=" ">Video URL</label>
						<input type="text" class="form-control" placeholder="http://..........." ng-model = "video.videourl">
					</div>
				</div>
				<div class="col-md-2 add-video-icons">
					<a href="javascript:void(0)" ng-click = "removeVideo($index)">
						<i class="fa fa-trash"></i>
					</a> 
				</div>
				<div class="clearfix"></div>

				<br>

				<div class="row">
					<div class="col-sm-12">
						<h3> &nbsp;&nbsp;&nbsp;Question Type</h3>
						<div class="col-lg-2 col-md-4 col-xs-6">
							<label class="radio-inline big-radio">
							<input type="radio" ng-model = "video.questionType" name="radio{{$index}}" value="multiple_choice">Multiple Choice</label>
						</div>
						<div class="col-lg-2 col-md-4 col-xs-6">
							<label class="radio-inline big-radio">
							<input type="radio" ng-model = "video.questionType" name="radio{{$index}}" value="text_response">Text Response</label>
						</div>
						<div class="clearfix"></div>
						<br>
						<div class="col-md-10">
							<h4 class="question">
								<span>Question.</span>
							</h4>
							<textarea class="form-control" placeholder="" ng-model = "video.question"></textarea>
						</div>

						<div class="clearfix"></div>

						<div class="choice-question">
							<div class="red box red{{$index}}">

								<br>

								<div class="form-group">

									<div class="col-md-10">
										<div class="input-group has-success">
											<span class="input-group-addon">A</span>
											<input type="text" class="form-control" id="" placeholder=" " ng-if="video.questionType == 'multiple_choice'" ng-model="video.answerList.A"> 
											<span class="input-group-addon">
												<input type="radio" ng-model = "video.correctAnswer" name="first-answer" value="A">
											</span>
										</div>
									</div>
								</div>

								<div class="clearfix"></div>

								<br>
								<div class="form-group">

									<div class="col-md-10">
										<div class="input-group">
											<span class="input-group-addon">B</span>
											<input type="text" class="form-control" id="" placeholder=" " ng-if="video.questionType == 'multiple_choice'" ng-model="video.answerList.B"> 
											<span class="input-group-addon">
												<input type="radio" ng-model = "video.correctAnswer" name="first-answer" value="B">
											</span>
										</div>
									</div>
								</div>

								<div class="clearfix"></div>
								<br>

								<div class="form-group">
									<div class="col-md-10">
										<div class="input-group">
											<span class="input-group-addon">C</span>
											<input type="text" class="form-control" id="" placeholder=" " ng-if="video.questionType == 'multiple_choice'" ng-model="video.answerList.C"> 
											<span class="input-group-addon">
												<input type="radio" ng-model = "video.correctAnswer" name="first-answer" value="C">
											</span>
										</div>
									</div>
								</div>
							</div>

							<div class="clearfix"></div>

							<div class="green box green{{$index}}">
								<br>
								<div class="form-group">
									<div class="col-md-10">
										<input type="text" class="form-control" placeholder="Answer" ng-if="video.questionType == 'text_response'" ng-model="video.correctAnswer">
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<br>
				<br>
			</div>

			<!-- Plus Icon !-->
			<div class="row">
				<div class="col-sm-12 text-center">
					<div class="round-button">
						<div class="round-button-circle">
							<a href="javascript:void(0)" ng-click = "addMoreVideo()" >
								<i class="fa fa-plus"></i>
							</a>
						</div>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-sm-4 col-xs-12  text-left big-link">
					<br><br><br>
					<a href="javascript:void(0)" ng-click="back()"><i class="fa fa-arrow-left"></i> Cancel</a>
				</div>
				<div class="col-sm-4 col-xs-12 text-center">
					<button type="submit" class="btn btn-default sbmt-big-btn" ng-click="Save()"><i class="fa fa-refresh fa-spin" ng-show="updatingLesson" style="margin-right: 5px;"></i>Save</button>
				</div>
			</div>
			<br><br><br>
		</div>
	</div>


<script type="text/javascript">
$(document).ready(function(){

    $(document).on('click','input[type="radio"]',function(){
        if($(this).attr("value")=="multiple_choice"){
      		var index = $(this).attr("name").split("radio")[1];
          $(".green" + index).hide();
          $(".red" + index).show();
        }
        if($(this).attr("value")=="text_response"){
      		var index = $(this).attr("name").split("radio")[1];
          $(".green" + index).show();
          $(".red" + index).hide();
        }
    });
});
</script>
</section>